<h2>{{titre}}</h2>

<main >
  <a routerLink="/add">
    <button mat-flat-button color="accent"
    >
          Ajouter Assignment
    </button>
</a>

<div>
  <input class="form-control" type="text" name="search" [(ngModel)]="searchText" autocomplete="off" placeholder="Cherchez un devoir">
</div>

<div class="mat-elevation-z8">

  <table mat-table [dataSource]="assignments">

    <ng-container matColumnDef="nom">
      <th mat-header-cell *matHeaderCellDef> nom </th>
      <td mat-cell *matCellDef="let a"> {{a.nom}} </td>
    </ng-container>
  
    <ng-container matColumnDef="rendu">
      <th mat-header-cell *matHeaderCellDef> rendu </th>
      <td mat-cell *matCellDef="let a"> {{a.rendu}} </td>
    </ng-container>
  
    <ng-container matColumnDef="note">
      <th mat-header-cell *matHeaderCellDef> note </th>
      <td mat-cell *matCellDef="let a"> {{a.note}} </td>
    </ng-container>
  
    <ng-container matColumnDef="matiere">
      <th mat-header-cell *matHeaderCellDef> matiere </th>
      <td mat-cell *matCellDef="let a"> {{a.matiere}} </td>
    </ng-container>
  
    <ng-container matColumnDef="details">
      <th mat-header-cell *matHeaderCellDef> details </th>
      <td mat-cell *matCellDef="let a" (click)="assignmentClique(a)"> DETAILS </td>
    </ng-container>
  
    <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
    <tr 
      mat-row
      (click)="assignmentClique(row)"
      *matRowDef="let row; columns: displayedColumns;"
    ></tr>
  </table>

  <mat-paginator  #paginator [pageSizeOptions]="[5, 10, 20]"
                 showFirstLastButtons
                 aria-label="Select page of periodic elements">
  </mat-paginator>
</div>


<!-- <table mat-table class="mat-elevation-z8"> 
  <thead>
  <tr>
    <th>Nom</th>
    <th>Date de rendu</th>
    <th>Statut de rendu</th>
    <th>Note</th>
    <th>Professeur</th>
    <th>Matière</th>
    <th>Classe</th>
    <th>Image</th>
  </tr>
  </thead>
  <tbody >
  <tr *ngFor="let a of assignments | filter:searchText">
      <td>{{a.nom}}</td>
      <td>{{a.dateDeRendu | date}}</td>
      <td>{{a.rendu}}</td>
      <td>{{a.note}}</td>
      <td>{{a.prof}}</td>
      <td>{{a.matiere}}</td>
      <td>{{a.classe}}</td>
      <td>
        <img src="{{a.image}}" alt="Red dot" />
      </td>
  </tr>
  </tbody>
</table> -->

  <!-- <mat-list *ngFor="let a of assignments | filter:searchText">
    <nav>
    <a routerLink="/assignment/{{a.id}}">
      <mat-list-item>
        <h3 mat-line>{{a.nom}}</h3>
        <p mat-line>{{a.dateDeRendu | date}}</p>
        <mat-icon mat-list-icon *ngIf="a.rendu">done</mat-icon>
      </mat-list-item>
    <h3 mat-subheader>{{a.dateDeRendu | date}}</h3>
    <mat-list-item [ngClass]="{'rendu':a.rendu, 'nonRendu':!a.rendu}"
                   (click)="assignmentClique(a)"
    >

      <p *ngIf="a.rendu; else nonsoumis">
        {{a.nom}} a été rendu.
      </p>
      <ng-template #nonsoumis>
        <p>
          {{a.nom}} n'a pas été rendu à temps.
        </p>
      </ng-template>
      <mat-divider></mat-divider>
    </mat-list-item>
    </a>
    </nav>
  </mat-list> -->
</main>
